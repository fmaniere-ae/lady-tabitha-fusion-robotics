local_backend: true

backend:
  name: git-gateway
  branch: main

publish_mode: editorial_workflow

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

locale: "fr"

collections:
  - name: "pages"
    label: "Pages"
    files:
      - name: "home"
        label: "Accueil"
        file: "public/content/pages/home.md"

        fields:
          - label: "Titre"
            name: "title"
            widget: "string"

          - label: "Sections"
            name: "sections"
            widget: "list"
            types:

              - label: "Qui sommes-nous"
                name: "about"
                widget: "object"
                fields:
                  - { label: "Titre", name: "title", widget: "string" }
                  - { label: "Présentation", name: "presentation", widget: "text" }
                  - { label: "Vision", name: "vision", widget: "text" }

              - label: "Pourquoi inscrire votre enfant"
                name: "benefits"
                widget: "object"
                fields:
                  - { label: "Titre", name: "title", widget: "string" }
                  - label: "Bénéfices"
                    name: "benefits"
                    widget: "list"
                    field:
                      { label: "Bénéfice", name: "item", widget: "string" }
                  - { label: "Texte du bouton", name: "cta_text", widget: "string" }
                  - { label: "Lien du bouton", name: "cta_link", widget: "string" }

              - label: "Programme"
                name: "program"
                widget: "object"
                fields:
                  - { label: "Titre", name: "title", widget: "string" }
                  - label: "Niveaux"
                    name: "levels"
                    widget: "list"
                    fields:
                      - { label: "Nom", name: "name", widget: "string" }
                      - { label: "Parcours", name: "parcours", widget: "text" }
                      - { label: "Projets", name: "projets", widget: "text" }

              - label: "Infos pratiques"
                name: "practical"
                widget: "object"
                fields:
                  - { label: "Titre", name: "title", widget: "string" }
                  - { label: "Organisation", name: "organisation", widget: "text" }
                  - { label: "Sécurité & matériel", name: "safety", widget: "text" }
