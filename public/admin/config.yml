local_backend: true

# backend:
#   name: github
#   repo: fmaniere-ae/lady-tabitha-fusion-robotics
#   branch: main

backend:
  name: git-gateway
  branch: main

publish_mode: editorial_workflow

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

locale: 'fr'

collections:
  - name: "pages"
    label: "Pages"
    files:
      - name: "home"
        label: "Accueil"
        file: "public/content/pages/home.md"
        fields:
          - { label: "Titre", name: "title", widget: "string" }

          - label: "Sections"
            name: "sections"
            widget: "list"
            types:

              - label: "Qui sommes-nous"
                name: "about"
                widget: "object"
                fields:
                  - { label: "Titre", name: "title", widget: "string" }
                  - { label: "Présentation", name: "presentation", widget: "text" }
                  - { label: "Vision", name: "vision", widget: "text" }

              - label: "Pourquoi inscrire"
                name: "benefits"
                widget: "object"
                fields:
                  - { label: "Titre", name: "title", widget: "string" }
                  - label: "Bénéfices"
                    name: "benefits"
                    widget: "list"
                    field: { label: "Bénéfice", name: "item", widget: "string" }
                  - { label: "Texte bouton", name: "cta_text", widget: "string" }
                  - { label: "Lien bouton", name: "cta_link", widget: "string" }

              - label: "Programme"
                name: "program"
                widget: "object"
                fields:
                  - { label: "Titre", name: "title", widget: "string" }
                  - label: "Niveaux"
                    name: "levels"
                    widget: "list"
                    fields:
                      - { label: "Nom", name: "name", widget: "string" }
                      - { label: "Parcours", name: "parcours", widget: "text" }
                      - { label: "Projets", name: "projets", widget: "text" }

              - label: "Infos pratiques"
                name: "practical"
                widget: "object"
                fields:
                  - { label: "Titre", name: "title", widget: "string" }
                  - { label: "Organisation", name: "organisation", widget: "text" }
                  - { label: "Sécurité & matériel", name: "safety", widget: "text" }
  - name: "pages"
    label: "Pages"
    files:
      - name: "home"
        label: "Accueil"
        file: "public/content/pages/home.md"
        fields:
          - { label: "Titre", name: "title", widget: "string" }

          - label: "Sections"
            name: "sections"
            widget: "list"
            fields:
              - { label: "ID", name: "id", widget: "string" }
              - { label: "Titre", name: "title", widget: "string" }

              - label: "Blocs"
                name: "blocks"
                widget: "list"
                types:

                  - label: "Texte"
                    name: "text"
                    widget: "object"
                    fields:
                      - { label: "Titre", name: "title", widget: "string" }
                      - { label: "Contenu", name: "content", widget: "markdown" }

                  - label: "Call to action"
                    name: "cta"
                    widget: "object"
                    fields:
                      - { label: "Titre", name: "title", widget: "string" }
                      - { label: "Texte bouton", name: "button_label", widget: "string" }
                      - { label: "Lien", name: "button_link", widget: "string" }

                  - label: "Programme"
                    name: "program"
                    widget: "object"
                    fields:
                      - { label: "Niveau", name: "level", widget: "string" }
                      - { label: "Parcours", name: "parcours", widget: "markdown" }
                      - { label: "Projets", name: "projets", widget: "markdown" }
  - name: "pages"
    label: "Pages"
    files:
      - label: "Accueil"
        name: "home"
        file: "public/content/pages/home.md"
        fields:
          - label: "Titre"
            name: "title"
            widget: "string"

          - label: "Blocs"
            name: "blocks"
            widget: "list"
            types:
              - label: "Texte"
                name: "text"
                widget: "object"
                fields:
                  - { label: "Contenu", name: "body", widget: "markdown" }

              - label: "Image"
                name: "image"
                widget: "object"
                fields:
                  - { label: "Image", name: "src", widget: "image" }
                  - { label: "Alt", name: "alt", widget: "string", required: false }

              - label: "Section"
                name: "section"
                widget: "object"
                fields:
                  - { label: "Titre", name: "title", widget: "string" }
                  - { label: "Contenu", name: "body", widget: "markdown" }
